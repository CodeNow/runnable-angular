nav.sub-header
  h1.build-header.divided-header.animations-off(
    ng-class = "{'in': !dataBuild.data.isClean }"
  )
    button.btn-icon.silver.tooltip(
      data-title = "View All Builds"
      ng-click = "dataBuild.actions.stateToBuildList($event)"
      type = "button"
    )
      object.iconnables.icons-back-table(
        data = "/build/images/icons/icons-back-table.svg"
        type = "image/svg+xml"
      )
    .iconnables.iconnables-container
      object.iconnables.icons-pass(
        data = "/build/images/icons/icons-pass.svg"
        type = "image/svg+xml"
      )
      object.iconnables.icons-asterisk(
        data = "/build/images/icons/icons-asterisk.svg"
        type = "image/svg+xml"
      )
    | Build {{ dataBuild.data.build.attrs.id | limitTo:4 }}...

  section#main-controls(ng-class = "{'in': !dataBuild.data.isClean}")
    .clean
      button.orange(
        type = "button"
        ng-click = "dataBuild.actions.runInstance()"
      ) Run Instance
      .btn-group
        button.silver(
          type = "button"
          ng-click = "dataBuild.actions.rebuild();"
        ) Rebuild
        button.silver.btn-icon(
          ng-class = "{active: dataBuild.data.showBuildOptionsClean}"
          ng-click = "dataBuild.actions.togglePopover('BuildOptionsClean', $event)"
          type = "button"
        )
          object.iconnables(
            data = "/build/images/icons/icons-arrow-down.svg"
            type = "image/svg+xml"
          )
          .popover.menu.bottom.fade(
            ng-class = "{in: dataBuild.data.showBuildOptionsClean}"
            ng-include = "'viewBuildPopoverBuildOptions'"
          )

    .dirty
      .btn-group
        button.green(
          type = "button"
          ng-click = "dataBuild.actions.build()"
        ) Build
        button.green.btn-icon(
          ng-class = "{active: dataBuild.data.showBuildOptionsDirty}"
          ng-click = "dataBuild.actions.togglePopover('BuildOptionsDirty', $event)"
          type = "button"
        )
          object.iconnables(
            data = "/build/images/icons/icons-arrow-down-alt.svg"
            type = "image/svg+xml"
          )
          .popover.menu.bottom.fade(
            ng-class = "{in: dataBuild.data.showBuildOptionsDirty}"
            ng-include = "'viewBuildPopoverBuildOptions'"
          )
      button.silver(
        type = "button"
        ng-click = "dataBuild.actions.discardChanges()"
      ) Discard Changes

section.sidebar
  ul()
    li
      object.iconnables.icons-recipe(
        data = "/build/images/icons/icons-recipe.svg"
        type = "image/svg+xml"
      )
      b {{ dataApp.stateParams.branchName }}
      | #{''} config
    li
      object.iconnables.icons-duration(
        data = "/build/images/icons/icons-duration.svg"
        type = "image/svg+xml"
      )
      | Built in 87 seconds
    li
      object.iconnables.icons-calendar(
        data = "/build/images/icons/icons-calendar.svg"
        type = "image/svg+xml"
      )
      | Initiated {{ dataBuild.data.build.attrs.created | timeAgo }}
    li
      object.iconnables.icons-trigger(
        data = "/build/images/icons/icons-trigger.svg"
        type = "image/svg+xml"
      )
      | Triggered by <a>{{ dataBuild.data.buildOwner.attrs.username }}</a>
  h3 Message Log
  ol#messages
    li(ng-repeat = "commit in dataBuild.data.commits")
      ol.message
        li
          a {{commit.message}}
        li
          a
            img
            | #{''} {{commit.username}}
          span {{commit.hash}}
    li
      ol.message
        li
          a removing comment
        li
          a
            img(
              height = "20"
              src = "https://avatars0.githubusercontent.com/u/467885?s=64"
              width = "20"
            )
            |&nbsp;cflynn07
          a 37a8f1
            object(
              data = "/build/images/icons/icons-git-alt.svg"
              type = "image/svg+xml"
            )
    li
      ol.message
        li
          a separate popover for branches
        li
          a
            img(
              height = "20"
              src = "http://www.gravatar.com/avatar/49fa96bd569083f739e8f8e37264b6fc?s=64"
              width = "20"
            )
            |&nbsp;prafulrana
          a 37a8f1
            object(
              data = "/build/images/icons/icons-git-alt.svg"
              type = "image/svg+xml"
            )
    li
      ol.message
        li
          a change project popover
        li
          a
            img(
              height = "20"
              src = "http://www.gravatar.com/avatar/452e4a4c93d2ffba9999b03cea258206?s=64"
              width = "20"
            )
            |&nbsp;runnabro
          a 37a8f1
            object(
              data = "/build/images/icons/icons-git-alt.svg"
              type = "image/svg+xml"
            )
    li
      ol.message
        li
          a remove sign up, new, search from header
        li
          a
            img(
              height = "20"
              src = "http://www.gravatar.com/avatar/452e4a4c93d2ffba9999b03cea258206?s=64"
              width = "20"
            )
            |&nbsp;runnabro
          a 37a8f1
            object(
              data = "/build/images/icons/icons-git-alt.svg"
              type = "image/svg+xml"
            )
    li
      ol.message
        li
          a sync with tony
        li
          a
            img(
              height = "20"
              src = "https://avatars0.githubusercontent.com/u/467885?s=64"
              width = "20"
            )
            |&nbsp;cflynn07
          a 37a8f1
            object(
              data = "/build/images/icons/icons-git-alt.svg"
              type = "image/svg+xml"
            )


//- code_editor
#editor.in(
  ng-class="{'in': dataBuild.data.showExplorer, '': !dataBuild.data.showExplorer}"
)
  button#explorer-toggle.btn-icon(
    ng-click = "dataBuild.data.showExplorer = !dataBuild.data.showExplorer"
    ng-init = "dataBuild.data.showExplorer = true"
    type = "button"
  )
    object.iconnables(
      data = "/build/images/icons/icons-folder-open.svg"
      type = "image/svg+xml"
    )
  //- file_explorer
  aside#explorer
    //- ng-init should remember theme by user
    #controls
      button.toggle-theme.tooltip(
        data-title = "Change Theme"
        ng-class = "{dark: !dataBuild.data.toggleTheme, light: dataBuild.data.toggleTheme}"
        ng-click = "dataBuild.data.toggleTheme = !dataBuild.data.toggleTheme"
      )
        .theme
    .explorer-header
      h6
        | CONFIG FILES
        button.silver.btn-sm.file-explorer-menu.btn-icon(
          ng-class = "{active: dataBuild.data.showFileMenu}"
          ng-click = "dataBuild.data.togglePopover('FileMenu', $event)"
        )
          object.iconnables(
            data = "/build/images/icons/icons-gear.svg"
            type = "image/svg+xml"
          )
          .popover.menu.bottom.fade(
            ng-class = "{in: dataBuild.data.showFileMenu, 'show-add-repo': dataBuild.data.showAddRepo, 'show-form': dataBuild.data.showForm}"
            ng-include = "'viewBuildPopoverFileMenu'"
          )
      ul.tree
        li.folder(
            ng-click = "dataBuild.folderTestOpen = !dataBuild.folderTestOpen"
            ng-class = "{'in': dataBuild.folderTestOpen}"
          )
          object.iconnables.filetypes(
            data = "/build/images/icons/filetypes/icons-folder.svg"
            type = "image/svg+xml"
          )
          | css
          ul
            li.folder
              object.iconnables.filetypes(
                data = "/build/images/icons/filetypes/icons-folder.svg"
                type = "image/svg+xml"
              )
              | modules
              ul
                li
                  object.iconnables.filetypes(
                    data = "/build/images/icons/filetypes/icons-file.svg"
                    type = "image/svg+xml"
                  )
                  | components.scss
            li
              object.iconnables.filetypes(
                data = "/build/images/icons/filetypes/icons-file.svg"
                type = "image/svg+xml"
              )
              | styles.css
            li
              object.iconnables.filetypes(
                data = "/build/images/icons/filetypes/icons-file.svg"
                type = "image/svg+xml"
              )
              | tables.css
        li
          object.iconnables.filetypes(
            data = "/build/images/icons/filetypes/icons-file.svg"
            type = "image/svg+xml"
          )
          | favicon.png
        li
          object.iconnables.filetypes(
            data = "/build/images/icons/filetypes/icons-file.svg"
            type = "image/svg+xml"
          )
          | index.html
        li
          object.iconnables.filetypes(
            data = "/build/images/icons/filetypes/icons-file.svg"
            type = "image/svg+xml"
          )
          | htc.access
  #editor-toolbar
    #tabs-wrapper
    //- file_tabs
  #select-tabs.dropdown
    button.btn-icon(type = "button")
      object.iconnables(
        data = "/build/images/icons/icons-select.svg"
        type = "image/svg+xml"
      )
    select
      option(selected) Tab 1
      option Tab 2
  #editor-container
    //- code
    pre(ui-ace, ng-click = "dataBuild.data.isClean = !dataBuild.data.isClean") Test
