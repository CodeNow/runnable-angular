h2.grid-block.align-center.justify-justified.nav-section-header(
  title = "node-app"
)
  span.text-overflow.padding-right-xxs node-app
  .grid-block.align-center.shrink.btn.btn-xs.white(
    data-event-name = "Clicked Add Branch button"
    ng-click = "CIS.popInstanceOpen(masterInstance)"
    pop-over
    pop-over-controller = "CIS"
    pop-over-data = "'branchSelect'"
    pop-over-options = "{\"verticallyCentered\":true,\"left\":109,\"pinToViewPort\":true}"
    pop-over-template = "branchMenuPopoverView"
  ) Add a Branch
    svg.iconnables.icons-arrow-forward
      use(
        xlink:href = "#icons-arrow-down"
      )

a#dark-theme.nav-card(
  href = "#dark-theme"
  ng-class = "{'active': !$root.featureFlags.showPurpleBranch}"
  ng-click = "$root.featureFlags.showPurpleBranch = false"
)
  h3.nav-card-header(
    title = "dark-name"
  )
    //- bubble up test agent status for repos with test compose files
    status-icon.grid-block.shrink.passed
    span.text-overflow.padding-right-xxs dark-theme
    //- only show for default branches
    button.grid-block.shrink.btn-container-menu(
      ng-class = "{'active': INC.popoverShown}"
      ng-if = "!INC.currentOrg.isPersonalAccount() && !INC.isInDemoFlow()"
      pop-over
      pop-over-active = "INC.popoverShown"
      pop-over-controller = "INC"
      pop-over-options = "{\"verticallyCentered\":true,\"left\":26}"
      pop-over-template = "instanceNavigationPopoverView"
    )
      svg.iconnables
        use(
          xlink:href = "#icons-gear"
        )
  ul.nav-container-list(
    ng-if = "!$root.featureFlags.showPurpleBranch"
    ng-include = "'stagingEnvironmentView'"
  )
  ul.nav-container-list(
    ng-if = "!$root.featureFlags.showPurpleBranch"
    ng-include = "'testingEnvironmentView'"
  )

//- for mockup only
a#purple-theme.nav-card(
  href = "#purple-theme"
  ng-class = "{'active': $root.featureFlags.showPurpleBranch}"
  ng-click = "$root.featureFlags.showPurpleBranch = true"
)
  h3.nav-card-header(
    title = "purple-theme"
  )
    //- bubble up test agent status for repos with test compose files
    status-icon.grid-block.shrink.passed
    span.text-overflow.padding-right-xxs purple-theme
    //- only show for default branches
    button.grid-block.shrink.btn-container-menu(
      ng-class = "{'active': INC.popoverShown}"
      ng-if = "!INC.currentOrg.isPersonalAccount() && !INC.isInDemoFlow()"
      pop-over
      pop-over-active = "INC.popoverShown"
      pop-over-controller = "INC"
      pop-over-options = "{\"verticallyCentered\":true,\"left\":26}"
      pop-over-template = "instanceNavigationPopoverView"
    )
      svg.iconnables
        use(
          xlink:href = "#icons-gear"
        )
  ul.nav-container-list(
    ng-if = "$root.featureFlags.showPurpleBranch"
    ng-include = "'stagingEnvironmentView'"
  )
  ul.nav-container-list(
    ng-if = "$root.featureFlags.showPurpleBranch"
    ng-include = "'testingEnvironmentView'"
  )