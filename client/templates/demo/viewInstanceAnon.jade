//- needs to look/act like a regular view instance page, with these changes:
//-   - Add repo & fork buttons should open a modal
//-   - Something about save & restart?
//-   - Logging in with GitHub should redirect to demo.edit




//- add class .in to display
//- .in if model's containers collection populated;
    indicates model is deployed
//- .alert.green(
//-   ng-class = "{ \
//-     in: (dataInstanceAnon.data.showFinishMessageWhenContainerFetched && \
//-          dataInstanceAnon.data.instance.containers.models.length) \
//-   }"
//- )
  svg.iconnables.icons-check
    use(
      xlink:href = "#icons-check"
    )
  | Your box has finished building.

header.box-header

  instance-box-name

  instance-primary-actions(
    loading = "dataApp.data.loading"
    instance = "dataInstanceAnon.data.instance"
    saving = "dataInstanceAnon.data.saving"
    open-items = "dataInstanceAnon.data.openItems"
  )

  instance-secondary-actions(
    instances = "dataInstanceAnon.data.instances"
    instance = "dataInstanceAnon.data.instance"
    saving = "dataInstanceAnon.data.saving"
  )

//- sidebar with repositories and urls
section.sidebar.box-sidebar.load

  repo-list(
    loading = "dataApp.data.loading"
  )

//- in / out control presence of header-bar
section.views.with-add-tab(
  ng-class = "dataInstanceAnon.data.sectionClasses"
)
  //- explorer
  button.btn-sm.white.btn-icon.explorer-toggle(
    ng-click = "dataInstanceAnon.data.showExplorer = !dataInstanceAnon.data.showExplorer"
    type = "button"
  )
    svg.iconnables.icons-folder-open
      use(
        xlink:href = "#icons-folder-open"
      )

  explorer(
    open-items = "dataInstanceAnon.data.openItems"
    toggle-theme = "dataInstanceAnon.data.toggleTheme"
  )

  //- tabs
  tabs(
    open-items= "dataInstanceAnon.data.openItems"
  )

  add-tab(
    open-items = "dataInstanceAnon.data.openItems"
  )

  //- active panel
  active-panel(
    current-model = "dataInstanceAnon.data.instance.attrs"
    is-dark-theme = "dataInstanceAnon.data.toggleTheme",
    open-items = "dataInstanceAnon.data.openItems"
  )

  //- blank state
  .blank-panel(
    ng-if= "dataInstanceAnon.data.instance.containers.models[0] && \
            dataInstanceAnon.data.openItems.models.length === 0"
  )
    ul.blank-panel-group
      li.blank-panel-item(
        ng-click = "dataInstanceAnon.data.openItems.addWebView()"
      )
        svg.iconnables.iconnables-lg.icons-web
          use(xlink:href = "#icons-web")
        | Web View
      li.blank-panel-item(
        ng-click = "dataInstanceAnon.data.openItems.addTerminal()"
      )
        svg.iconnables.iconnables-lg.icons-terminal
          use(xlink:href = "#icons-terminal")
        | Terminal
      li.blank-panel-item(
        ng-click = "dataInstanceAnon.data.openItems.addBuildStream()"
      )
        svg.iconnables.iconnables-lg.icons-logs
          use(xlink:href = "#icons-logs")
        | Build Log
      li.blank-panel-item(
        ng-click = "dataInstanceAnon.data.openItems.addLogs()"
      )
        svg.iconnables.iconnables-lg.icons-server
          use(xlink:href = "#icons-server")
        | Box Log
