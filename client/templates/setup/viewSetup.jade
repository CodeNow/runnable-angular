header.box-header

  //- name instance input
  runnable-setup-box-name(
    name = "dataSetup.data.newInstanceName"
    valid = "dataSetup.data.isValid"
  )
  runnable-setup-primary-actions(
    build   = "dataSetup.data.build"
    loading = "dataApp.data.loading"
    name    = "dataSetup.data.newInstanceName"
    valid   = "dataSetup.data.isValid"
  )

section.sidebar.box-sidebar.setup

  //- repositories
  repo-list(
    build      = "dataSetup.data.build"
    edit       = "true"
    show-guide = "true"
  )

  runnable-docker-templates(
    open-items = "dataSetup.data.openItems"
  )

  section.row(
    ng-if = "dataSetup.data.validDockerfile.valid === false"
  )
    .sidebar-validation
      h2.sub-header Dockerfile Validation Errors
      ul.list-group
        li.list-group-item(
          ng-repeat = "error in dataSetup.data.validDockerfile.errors"
        ) {{ error.line ? 'Line ' + error.line + ':' : '' }} {{ error.message }}

section.views.with-add-tab(
  ng-class = "{in: dataSetup.data.showExplorer && !dataSetup.data.loading}"
)
  //- explorer
  button.btn-sm.white.btn-icon.explorer-toggle(
    ng-click = "dataSetup.data.showExplorer = !dataSetup.data.showExplorer"
    ng-if = "dataSetup.data.contextVersion.source"
    type = "button"
  )
    svg.iconnables.icons-folder-open
      use(
        xlink:href = "#icons-folder-open"
      )
  section.explorer
    .explorer-controls
      button.toggle-theme(
        ng-class = "{dark: !dataSetup.data.toggleTheme, light: dataSetup.data.toggleTheme}"
        ng-click = "dataSetup.data.toggleTheme = !dataSetup.data.toggleTheme"
        ng-init = "dataSetup.data.toggleTheme = true"
        tooltip = "Change Theme"
        tooltip-options = "{\"class\":\"bottom\",\"left\":11,\"top\":36}"
      )
        .theme
    file-tree(
      open-items = "dataSetup.data.openItems"
      read-only = "false"
      root-dir = "dataSetup.data.contextVersion.rootDir"
    )

  //- tabs
  tabs(
    open-items = "dataSetup.data.openItems"
  )
  a.btn.btn-sm.white.btn-icon.add-tab(
    ng-class = "{active: dataSetup.data.popoverAddTab.data.show}"
    toggle-pop-over
    toggle-pop-over-model = "dataSetup.data.popoverAddTab.data.show"
  )
    svg.iconnables.icons-add
      use(
        xlink:href = "#icons-add"
      )
    pop-over(
      actions = "dataSetup.data.popoverAddTab.actions"
      data = "dataSetup.data.popoverAddTab.data"
      template = "popoverAddTab"
    )

  //- active panel
  active-panel(
    is-dark-theme = "dataSetup.data.toggleTheme"
    open-items = "dataSetup.data.openItems"
    read-only = "dataSetup.data.isReadOnly"
    update = "true"
  )

  //- spinner
  .horizontal-spinner(
    ng-show = "dataSetup.data.fetchingContext"
  )
