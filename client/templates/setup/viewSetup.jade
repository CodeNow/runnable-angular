nav.sub-header
  h1.divided-header
    input.form-control.inline-edit(
      placeholder = "Application Name"
      spellcheck = "false"
      value = "{{ dataSetup.data.project.attrs.name }}"
    )
    svg.iconnables.icons-edit
      use(xlink:href = "#icons-edit")
  section#main-controls(
    ng-class = "{in: dataSetup.data.isAdvanced}"
  )
    .clean
      button.silver(
        ng-click = "dataSetup.actions.enterAdvancedMode()"
        ng-disabled = "!dataSetup.data.selectedSourceContext"
        type = "button"
      ) Enter Advanced Setup
    .dirty
      button.silver(
        ng-click = "dataSetup.actions.resetFilesToSource()"
        type = "button"
      ) Discard Changes and Return to Basic Setup

section.sidebar(ng-class = "{out: dataSetup.data.isAdvanced}")
  form
    #setup-repo
      .popover.bottom.fade(
        ng-class = "{in: dataSetup.data.isRepoMode}"
        ng-include = "'viewSetupPopoverAddRepos'"
      )
      .input-container
        input.form-control(
          ng-focus = "dataSetup.data.isRepoMode = true"
          placeholder = "Add Repository"
          ng-model = "dataSetup.data.repoFilter"
        )
        button.btn-icon.inactive(
          ng-click = "dataSetup.data.isRepoMode = true"
          type = "button"
        )
          svg.iconnables.icons-arrow-down
            use(xlink:href = "#icons-arrow-down")
        button.btn-icon.active(
          ng-click = "dataSetup.data.isRepoMode = false"
          type = "button"
        )
          svg.iconnables.icons-close
            use(xlink:href = "#icons-close")
      //- if there are duplicate repo names, use name-2, name-3, and so on.
      ul#added-repos
        li(
          ng-repeat = "appCodeVersion in dataSetup.data.contextVersion.appCodeVersions.models"
        )
          .repo{{ appCodeVersion.attrs.repo.split('/')[1] }}
            button.btn-icon(
              ng-click = "dataSetup.actions.removeGithubRepo(appCodeVersion)"
              type = "button")
              svg.iconnables.icons-delete
                use(xlink:href = "#icons-delete")
          label
            span branch:
            //- list needs to be unique to match datalist id
            input.form-control(
              list = "repo-branches"
              placeholder = "Branch or commit (optional)"
              value = "@master"
            )
            datalist(
              id = "repo-branches"
            )
              option(value = "master")
              option(value = "instance-page")
              option(value = "instance-terminal")
          label
            span dest:
            input.form-control(
              placeholder = "Destination"
              value = "{{ '/'+appCodeVersion.attrs.repo.split('/').pop() }}"
            )
    #setup-template
      h3 Choose a Docker Template
      .form-group.toggle-group
        label(ng-repeat = "context in dataSetup.data.seedContexts.models") {{ context.attrs.name }}
          input(
            name = "{{ context.attrs.name }}"
            required
            ng-click = "dataSetup.actions.selectSourceContext(context)"
            type = "radio"
          )
    button.btn-block.orange(
      ng-click = "dataSetup.actions.buildApplication()"
    ) Build Application

#editor
  button#editor-status.silver(
    disabled
    type = "button"
  ) Readonly
  tabs#editor-toolbar(
    open-files = "dataSetup.data.contextFiles"
  )
  active-panel(
    read-only = "dataSetup.data.isReadOnly"
    open-files = "dataSetup.data.contextFiles"
    is-clean = "dataSetup.data.isClean"
    update = "true"
  )
