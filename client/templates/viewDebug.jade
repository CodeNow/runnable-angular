header.server-header
  .server-info.load
    h1.container-title.centered
      .icons-status.running
      strong.strong {{CD.instance.getDisplayName()}}
      span(
        ng-if = "CD.instance.getBranchName()"
      ) /{{CD.instance.getBranchName()}}
      small.small (debug)

  .primary-actions
    //- ***********************
    //- deprecated button, remove with $root.featureFlags.saveToolbar
    //- save button
    .btn-group(
      ng-if = "!$root.featureFlags.saveToolbar && instance.containers.models[0].running() && canSave()"
    )
      //- apply .with-restart if save restarts Server
      //- add title = "Save and Restart Server" if save restarts Server
      button.btn.green.btn-save.btn-spinner(
        ng-class = "{in: saving}"
        ng-click = "saveChanges()"
        ng-disabled = "loading || saving || modifyingInstance"
        type = "button"
      )
        .spinner-wrapper.spinner-sm.spinner-white.in(
          ng-if = "saving"
          ng-include = "'spinner'"
        )

        span.btn-text {{ saving ? 'Saving' : 'Save'}}
        //- show if restart is checked
        span.btn-text(
          ng-if = "popoverSaveOptions.data.restartOnSave"
        ) #{''} and Restart
      button.btn.green.btn-icon.btn-icon-sm.btn-save-options(
        ng-class = "{active: popoverSaveOptions.data.show}"
        ng-disabled = "loading || saving || modifyingInstance"
        pop-over
        pop-over-active = "popoverSaveOptions.data.show"
        pop-over-actions = "popoverSaveOptions.actions"
        pop-over-data = "popoverSaveOptions.data"
        pop-over-options = "{\"left\":-146,\"top\":56}"
        pop-over-template = "viewInstancePopoverSaveOptions"
        type = "button"
      )
        svg.iconnables.icons-arrow-down
          use(
            xlink:href = "#icons-arrow-down"
          )
    //- end button, remove with $root.featureFlags.saveToolbar
    //- ***********************

section.sidebar.server-sidebar.full-height.load

  .spinner-wrapper.spinner-md.spinner-purple.spinner-backdrop.in(
    ng-include = "'spinner'"
    ng-if = "!CD.debugContainer.rootDir"
  )


  section.sidebar-section.explorer-section(
    ng-if = "CD.debugContainer.rootDir"
    edit-explorer = "true"
    explorer
    explorer-title = "File Explorer"
    file-model = "CD.debugContainer"
    instance = "CD.instance"
    open-items = "CD.openItems"
    root-dir = "CD.debugContainer.rootDir"
  )


section.views.full-height(
  active-panel
  build = "CD.instance.build"
  instance = "CD.instance"
  open-items = "CD.openItems"
)