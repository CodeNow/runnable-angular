.modal-flip {
  perspective: 1000px;
  perspecitve-origin: 50% 15%;

  // flipped state
  &.flipped .modal-dialog {

    &:first-child {
      transform: rotate3d(0, 1, 0, 180deg);
    }

    &:last-child {
      transform: rotate3d(0, 1, 0, 0);
    }
  }

  .modal-dialog {
    backface-visibility: hidden;
    left: 0;
    margin: 0 auto;
    overflow: hidden;
    position: absolute;
    right: 0;
    transform-origin: 50% 250%;
    transition: transform .3s ease-in-out;

    // initial state
    &:first-child {
      z-index: 2;
    }

    &:last-child {
      transform: rotate3d(0, 1, 0, -180deg);
      z-index: 1;
    }

    &.init {
      transition: none;
    }
  }
}