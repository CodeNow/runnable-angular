button.btn.btn-md.btn-spinner.btn-status(
  ng-class = "getClassForInstance()"
  ng-click = "CSBC.popoverActive = true"
)
  status-icon.float-left(
    instance = "CSBC.instance"
    ng-if = "!isChanging() && !$root.featureFlags.testingFeature"
  )
  span.float-left(
    ng-if ="!isChanging() && !$root.featureFlags.testingFeature"
  ) {{getStatusText()}}

  //- if stopping, starting, restarting, or testing
  .spinner-wrapper.spinner-gray.spinner-sm.float-left.in(
    ng-if = "isChanging()"
    ng-include = "'spinner'"
  )

  svg.iconnables.float-left(
    ng-class = "{\
      'icons-check': state.test === 'passed',\
      'icons-close': state.test === 'failed'\
    }"
    ng-if = "$root.featureFlags.testingFeature"
    ng-init = "state.test = 'passed'"
  )
    use(
      ng-if = "state.test === 'passed'"
      xlink:href = "#icons-check"
    )
    use(
      ng-if = "state.test === 'failed'"
      xlink:href = "#icons-close"
    )
  span.float-left(
    ng-if = "$root.featureFlags.testingFeature"
    ng-init = "state.test = 'passed'"
  ) {{state.test === 'passed' ? 'Tests Passed' : ''}}
    {{state.test === 'failed' ? 'Tests Failed' : ''}}
    //- or Tests Running

  span.float-left(
    ng-if = "isChanging()"
  ) {{getStatusText()}}
  svg.iconnables.icons-arrow-down(
    pop-over
    pop-over-actions = "CSBC.actions"
    pop-over-active = "CSBC.popoverActive"
    pop-over-controller = "CSBC"
    pop-over-options = "{\"centered\":true,\"top\":45}"
    pop-over-template = "containerStatusOptionsPopoverView"
    pop-over-trigger = "activeAttr"
  )
    use(
      xlink:href = "#icons-arrow-down"
    )
  //- if update and rebuild
  svg.iconnables.icons-alert.float-right(
    ng-if = "CSBC.instance.configStatusValid && !CSBC.instance.cachedConfigStatus && !CSBC.instance.attrs.isolated"
  )
    use(
      xlink:href = "#icons-alert"
    )
