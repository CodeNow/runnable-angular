.popover.menu.right.popover-container-menu(
  ng-class = "{'in': active}"
  ng-style = "popoverStyle.getStyle()"
)
  .arrow.white
  //- menu items:

    - for a non-isolated branch:
      - Set Up Isolation
      - (divider)
      - Hide

    - for an isolated branch:
      - Configure Container
      - (divider)
      - Add Container to Isolation
      - Disable Isolation (triggers confirm)
      - (divider)
      - Hide

    - for an isolated branch's containers:
      - Configure Container
      - (divider)
      - Delete Container from Isolation (triggers confirm)

  .popover-content
    ul.list.popover-list
      li.list-item.popover-list-item(
        ng-if = "INC.instance.attrs.isolated"
        ng-click = "INC.configureContainer()"
      )
        svg.iconnables
          use(
            xlink:href = "#icons-advanced"
          )
        | Configure Container
      li.divider(
        ng-if = "INC.instance.attrs.isolated"
      )
      li.list-item.popover-list-item.multi-line.disabled(
        ng-if = "!INC.instance.attrs.isolated"
      )
        p.p Isolating a branch allows you to…
        ul.list.list-bulleted.small
          //- while we can only isolate with service containers:
          li.list-item Copy your service containers to use with this branch.
          //- once we can isolate with service containers and repo containers:
          //- li.list-item Create a separate stack of your containers to use with this branch.
          li.list-item Configure this branch differently from your default.
          .btn.btn-sm.btn-block.green(
            ng-click = "INC.setupIsolation()"
          ) Enter Isolation
            //- only show this if service containers exist
            span(
              ng-if = "true"
            ) …

      li.list-item.popover-list-item(
        ng-if = "INC.instance.attrs.isIsolationGroupMaster"
        ng-click = "INC.addContainerToIsolation()"
      )
        svg.iconnables
          use(
            xlink:href = "#icons-isolation-enable"
          )
        | Add Container to Isolation
      li.list-item.popover-list-item(
        ng-if = "INC.instance.attrs.isIsolationGroupMaster"
        ng-click = "INC.disableIsolation()"
      )
        svg.iconnables
          use(
            xlink:href = "#icons-delete"
          )
        | Disable Isolation
      li.list-item.popover-list-item(
        ng-if = "INC.instance.attrs.isolated && !INC.instance.attrs.isIsolationGroupMaster"
        ng-click = "INC.deleteContainer()"
      )
        svg.iconnables
          use(
            xlink:href = "#icons-isolation-disable"
          )
        | Delete Container from Isolation

      //- navListFilter
      li.divider(
        ng-if = "$root.featureFlags.navListFilter"
      )
      li.list-item.popover-list-item(
        ng-if = "$root.featureFlags.navListFilter"
      )
        svg.iconnables
          use(
            xlink:href = "#icons-hide"
          )
        | Hide
