.popover.bottom.popover-dns-mappings(
  ng-class = "{'in': active}"
  ng-style = "popoverStyle.getStyle()"
)
  //- arrow is white if loading or no dns mappings
  .arrow(
    ng-class = "{'white': !$root.isLoaded.dns}"
  )

  animated-panel-container.popover-views
    animated-panel(
      default = "true"
      name = "dnsOverview"
    )
      .popover-view(
        ng-style = "!$root.isLoaded.dns && {'display': 'block'}"
      )
        //- only show the header if not loading and not empty
        .popover-header.load(
          ng-if = "$root.isLoaded.dns && DCC.dependencies.models.length !== 0"
        )
          .fade(
            ng-class = "{'in': isActivePanel()}"
          ) DNS Mappings

        //- spinner when loading
        .spinner-wrapper.spinner-sm.spinner-gray.spinner-center.in(
          ng-if = "!$root.isLoaded.dns"
          ng-include = "'spinner'"
        )

        //- empty state if not loading and empty
        .popover-content(
          ng-click = "state.empty = false"
          ng-if = "$root.isLoaded.dns && DCC.dependencies.models.length === 0"
        )
          p.p.empty.text-center.fade-in DNS Mappings are created with elastic hostnames in Environment Variables or Find & Replace.&#32;
            a.link(
              href = "#"
              target = "_blank"
            ) Learn more
            | .

        //- begin dns mappings
        .popover-content.load(
          ng-if = "isActivePanel() && DCC.dependencies.models.length !== 0"
        )

          //- list of DNS mappings
          ul.list.popover-list
            li.list-item.popover-list-item.tr.multi-line.clearfix(
              ng-click = "DCC.editDependency(dependency); goToPanel('dnsList');"
              ng-if = "$root.isLoaded.dns"
              ng-repeat = "dependency in DCC.dependencies.models"
            )
              .cell.text-overflow(
                title = "{{dependency.instance.getRepoName()}}"
              )
                .text-overflow {{dependency.instance.getRepoName()}}
                small.small.text-overflow(
                  title = "{{dependency.instance.getElasticHostname()}}"
                ) {{dependency.instance.getElasticHostname()}}}
              .cell.text-overflow(
                ng-class = "{'fade-in': dependency === DCC.lastModifiedDNS}"
                title = "dependency.instance.getBranchName()}}"
              )

                status-icon(
                  instance = "dependency.instance"
                )
                | {{dependency.instance.getBranchName()}}

              //- inline for svg animation
              svg.iconnables.icons-check.float-right(
                ng-if = "dependency === DCC.lastModifiedDNS"
                viewbox = '0 0 14.5 10'
              )
                path.path(
                  d = 'M1,4.5L5.5,9l8-8'
                  fill = 'none',
                  stroke = '#3ccb5a',
                  stroke-linecap = 'round',
                  stroke-linejoin = 'round',
                  stroke-miterlimit = '10',
                  stroke-width = '2',
                )

              svg.iconnables.icons-arrow-forward.float-right(
                ng-class = "{'in': dependency === DCC.lastModifiedDNS}"
              )
                use(
                  xlink:href = "#icons-arrow-down"
                )

    animated-panel(
      name = "dnsList"
    )
      //- view for changing a dns mapping
      .popover-view
        .popover-header
          svg.btn.btn-sm.iconnables.icons-arrow-backward.fade(
            ng-class = "{'in': isActivePanel()}"
            ng-click = "\
              goToPanel('dnsOverview', 'back');\
              state.selectedMapping = null;\
            "
          )
            use(
              xlink:href = "#icons-arrow-down"
            )
          .fade(
            ng-class = "{'in': isActivePanel()}"
          ) {{dnsMappings[dnsMappings.currentIndex].name}} Containers

        .popover-content.fade(
          ng-class = "{'in': isActivePanel()}"
        )

          //- spinner when loading
          .spinner-wrapper.spinner-sm.spinner-gray.spinner-center.in(
            ng-if = "!$root.isLoaded.dnsDepData"
            ng-include = "'spinner'"
          )

          //- organization container list
          ul.list.popover-list.list-branches(
            ng-if = "$root.isLoaded.dnsDepData"
          )
            li.list-item.popover-list-item.text-overflow(
              ng-class = "{'no-touching': instance === DCC.modifyingDNS.current.instance}"
              ng-click = "DCC.selectInstance(instance); goToPanel('dnsOverview', 'back');"
              ng-repeat = "instance in DCC.modifyingDNS.options"
              title = "{{instance.getBranchName()}}"
            )

              status-icon(
                instance = "instance"
              )
              span.text-overflow {{instance.getBranchName()}}

              //- if branch is isolated
              //- don't show this when loading
              .btn.btn-xxs.btn-badge.gray(
                ng-if = "instance.attrs.isolated"
              ) Isolated

              //- when currently selected
              //- don't show this when loading
              svg.iconnables.icons-fat-check.float-right(
                ng-if = "instance === DCC.modifyingDNS.current.instance"
              )
                use(
                  xlink:href = "#icons-fat-check"
                )