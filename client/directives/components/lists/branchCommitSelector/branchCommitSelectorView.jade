label.label(
  branch-selector
  loading-promises-target = "editServerModal"
  ng-if = "!BCSC.hideBranchSelector"
  state = "BCSC.data"
)

//- this element should appear in:
    * the setup popover for adding a repo to Container Files
    * the edit modal (in the Containers view) for modifying an additional repo on a specific Container
label.toggle-wrapper(
  ng-if = "!BCSC.data.acv || BCSC.data.acv.attrs.additionalRepo"
)
  .strong Always update to latest commit
  .small.text-overflow on new builds of&#32;
    strong.strong {{BCSC.data.getDisplayName() || BCSC.data.instance.getDisplayName()}}
  input.toggle-input(
    ng-model = "BCSC.isLatestCommit"
    ng-model-options = "{getterSetter: true}"
    type = "checkbox"
  )
  .toggle-group.toggle-sm

label.toggle-wrapper(
  ng-if = "$root.featureFlags.testingFeature && !BCSC.data.acv.attrs.additionalRepo"
)
  .strong Auto-Deploy
  .small Rebuild when new commits are pushed to GitHub.
  input.toggle-input(
    type = "checkbox"
  )
  .toggle-group.toggle-sm

ul.list.list-servers
  li.spinner-wrapper.spinner-backdrop.spinner-gray.spinner-md.in(
    ng-if = "fetchingCommits"
    ng-include = "'spinner'"
  )
  li.list-item(
    ng-attr-title = "{{commit.attrs.commit.message}}"
    ng-class = "{\
      'active': BCSC.data.commit === commit,\
      'disabled': BCSC.isLatestCommit()\
    }"
    ng-click = "BCSC.selectCommit(commit)"
    ng-if = "!fetchingCommits"
    ng-repeat = "commit in BCSC.data.branch.commits.models | orderBy: '-attrs.commit.committer.date'"
  ) {{commit.attrs.commit.message}}
    .row.row-author.clearfix(
      ng-attr-title = "{{commit.attrs.author.login}} authored {{commit.attrs.commit.committer.date | timeFrom}}"
    )
      //- if invite flows...
      .btn-user.text-overflow(
        ng-class = "{'active': state.active}"
        ng-if = "$root.featureFlags.inviteFlows"
        ng-include = "'userButtonView'"
        pop-over
        pop-over-active = "state.active"
        pop-over-options = "{\"left\":-24,\"top\":26}"
        pop-over-template = "userPopoverView"
      )
      span.small(
        ng-if = "$root.featureFlags.inviteFlows"
      ) —{{commit.attrs.commit.committer.date | timeFrom}}

      //- else
      span.small(
        ng-if = "!$root.featureFlags.inviteFlows"
      ) {{commit.attrs.author.login}}—{{commit.attrs.commit.committer.date | timeFrom}}

      a.small.link.monospace(
        ng-click = "$event.stopPropagation()"
        ng-href = "{{commit.attrs.html_url}}"
        target = "_blank"
        title = "View on GitHub"
      ) {{::commit.attrs.sha | limitTo:7}}
    svg.iconnables.icons-fat-check(
      ng-if = "!BCSC.isLatestCommit()"
    )
      use(
        xlink:href = "#icons-fat-check"
      )
