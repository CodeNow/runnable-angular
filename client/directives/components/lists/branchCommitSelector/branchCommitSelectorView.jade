.padding-md.grid-block.align-center.justify-center(
  ng-if = "fetchingCommits"
)
  .spinner-wrapper.spinner-gray.spinner-sm(
    ng-include = "'spinner'"
  )

//- if commit is behind while auto-deploy is on
.grid-block.shrink.align-center.padding-xs.well.well-popover.orange(
  ng-if = "\
    !fetchingCommits\
    && (\
      $root.featureFlags.autoDeployError\
      && (\
        BCSC.isAutoDeployOn()\
        && !BCSC.isLatestCommitDeployed\
        || $root.featureFlags.composeCommitHistory\
      )\
    )\
  "
  ng-include = "'redeployCommitView'"
)

//- show this element forâ€¦
  - additional repositories
  - isolated friend containers
label.label(
  branch-selector
  loading-promises-target = "editServerModal"
  ng-if = "\
    !fetchingCommits\
    && (\
      !$root.featureFlags.composeCommitHistory\
      && !BCSC.hideBranchSelector\
    )\
  "
  state = "BCSC.data"
)

//- this element should appear in:
  - the setup popover for adding a repo to Container Files
  - the edit modal (in the Containers view) for modifying an additional repo on a specific Container
label.grid-block.shrink.align-center.padding-xxs.well.gray(
  ng-if = "\
    !fetchingCommits\
    && (\
      !$root.featureFlags.composeCommitHistory\
      && !BCSC.data.acv\
      || BCSC.data.acv.attrs.additionalRepo\
    )\
  "
  ng-include = "'updateToLatestToggleView'"
)

label.grid-block.shrink.align-center.padding-xxs.well.gray(
  ng-if = "\
    !fetchingCommits\
    && (\
      $root.featureFlags.composeCommitHistory\
      || (\
        BCSC.data.acv\
        && !BCSC.data.acv.attrs.additionalRepo\
      )\
    )\
  "
  ng-include = "'autoDeployToggleView'"
)

ul.list.margin-top-sm(
  ng-if = "\
    !fetchingCommits\
    && BCSC.data.branch.commits.models\
  "
)
  li.grid-block.align-center.list-item(
    ng-disabled = "BCSC.isAutoDeployOn() || BCSC.isLastestCommit()"
    ng-class = "{\
      'active': BCSC.data.commit === commit,\
      'disabled': BCSC.isAutoDeployOn() || BCSC.isLastestCommit()\
    }"
    ng-click = "BCSC.selectCommit(commit, $index === 0)"
    ng-repeat = "commit in BCSC.data.branch.commits.models | orderBy: '-attrs.commit.committer.date'"
  )
    .grid-block.vertical(
      ng-attr-title = "{{commit.attrs.author.login}} authored {{commit.attrs.commit.committer.date | timeFrom}}"
    )
      p.p.text-overflow(
        ng-attr-title = "{{commit.attrs.commit.message}}"
      ) {{commit.attrs.commit.message}}
      small.small.text-gray {{commit.attrs.author.login}} committed {{commit.attrs.commit.committer.date | timeFrom}}
    button.grid-block.shrink.margin-left-sm.btn.btn-xs.btn-icon.btn-add
      svg.iconnables.icons-check
        use(
          xlink:href = "#icons-check"
        )

//- stub out dummy data
ul.list.margin-top-sm(
  ng-if = "!BCSC.data.branch.commits.models"
)
  <li class="grid-block align-center list-item ng-scope active disabled" disabled="disabled"> <div class="grid-block vertical" title="Nathan219 authored 2 days ago"> <p class="p text-overflow ng-binding" title="11.27.1">11.27.1</p><small class="small text-gray ng-binding">Nathan219 committed 2 days ago</small> </div><button class="grid-block shrink margin-left-sm btn btn-xs btn-icon btn-add"> <svg class="iconnables icons-check"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icons-check"></use> </svg> </button><li class="grid-block align-center list-item ng-scope disabled" disabled="disabled"> <div class="grid-block vertical" title="Nathan219 authored 2 days ago"> <p class="p text-overflow ng-binding" title="11.27.1">11.27.1</p><small class="small text-gray ng-binding">Nathan219 committed 2 days ago</small> </div><button class="grid-block shrink margin-left-sm btn btn-xs btn-icon btn-add"> <svg class="iconnables icons-check"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icons-check"></use> </svg> </button><li class="grid-block align-center list-item ng-scope disabled" disabled="disabled"> <div class="grid-block vertical" title="Nathan219 authored 2 days ago"> <p class="p text-overflow ng-binding" title="11.27.1">11.27.1</p><small class="small text-gray ng-binding">Nathan219 committed 2 days ago</small> </div><button class="grid-block shrink margin-left-sm btn btn-xs btn-icon btn-add"> <svg class="iconnables icons-check"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icons-check"></use> </svg> </button><li class="grid-block align-center list-item ng-scope disabled" disabled="disabled"> <div class="grid-block vertical" title="Nathan219 authored 2 days ago"> <p class="p text-overflow ng-binding" title="11.27.1">11.27.1</p><small class="small text-gray ng-binding">Nathan219 committed 2 days ago</small> </div><button class="grid-block shrink margin-left-sm btn btn-xs btn-icon btn-add"> <svg class="iconnables icons-check"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icons-check"></use> </svg> </button>
