h2.sub-header Repositories

  //- update / build button
  a.btn.btn-xs.orange.sub-header-action(
    ng-click = "triggerInstanceUpdateOnRepoCommitChange()"
    ng-if = "showUpdateButton()"
    tooltip = "Update your box to see your changes"
    tooltip-options = "{\"class\":\"bottom\",\"top\":24}"
  ) Update
    svg.iconnables.icons-update
      use(
        xlink:href = "#icons-update"
      )

  add-repo-popover(
    show = "data.show"                            
    enabled = "allowMultipleRepos || \
              (showAddFirstRepoMessage && build.contextVersions.models[0].appCodeVersions.models.length === 0)"
  )

  show-demo-modal(
    ng-if = "data.isDemo"
  )

//- show .guide if instance.setup && no repositories have been added yet
.guide.blue(
  ng-if = "showAddFirstRepoMessage && build.contextVersions.models[0].appCodeVersions.models.length === 0"
  ng-click = "data.show = !data.show; \
              $event.stopPropagation();"
)
  svg.iconnables.icons-git
    use(
      xlink:href = "#icons-git"
    )
  p.guide-text Add a repository to your box.
ul.repository-group
  li.repository-group-item(
    edit-repo-commit
    app-code-version = "acv"
    ng-init = "unsavedAcv = newUnsavedAcv(acv);"
    ng-repeat = "acv in build.contextVersions.models[0].appCodeVersions.models"
    unsaved-app-code-version = "unsavedAcv"
  )
    li.list-details(
      ng-hide = "dontShowLock"
    )           
      .small Disabling auto-deploy will stop your box from automatically updating with new changes to your repositories.
      label.label-checkbox.btn.btn-sm Disable auto-deploy
        input.input-checkbox(
          checked
          ng-model = "data.restartOnSave"
          type = "checkbox"
        )

    //- older types of things:
    //- edit-repo-commit(
    //-   app-code-version = "acv"
    //-   ng-init = "unsavedAcv = newUnsavedAcv(acv);"
    //-   ng-repeat = "acv in build.contextVersions.models[0].appCodeVersions.models"
    //-   unsaved-app-code-version = "unsavedAcv"
    //- )
