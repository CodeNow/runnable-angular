section.row.repo-list
  h2.sub-header Repositories

    runnable-button-update-instance-repos

    runnable-add-repo-popover(
      show = "data.show"
    )

  //- show .guide if instance.setup && no repositories have been added yet
  .guide.blue(
    ng-if = "showGuide && build.contextVersions.models[0].appCodeVersions.models.length === 0"
    ng-click = "data.show = !data.show; \
                $event.stopPropagation();"
  )
    svg.iconnables.icons-git
      use(
        xlink:href = "#icons-git"
      )
    p Add a repository to your box.

  ul.repository-group
    li.repository-group-item(
      ng-repeat = "acv in build.contextVersions.models[0].appCodeVersions.models"
      ng-init   = "unsavedAcv = newUnsavedAcv(acv);"
    )
      svg.iconnables.icons-git
        use(xlink:href = "#icons-git")
      h3.repository-title {{ acv.attrs.repo }}

      //-
        - display selected commit
          - pending state if selected commit !== actual saved commit
        - popover for selecting new commit
        - repo-options (delete, fast-forward commit)
        - fast-forward
      runnable-edit-repo-commit(
        app-code-version = "acv"
        unsaved-app-code-version = "unsavedAcv"
      )
