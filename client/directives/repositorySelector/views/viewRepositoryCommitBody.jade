//- ************************
//- dummy content
//- this is just to show what things should look like in the repositories modals in the Containers view.

label.label-jump(
  ng-if = "$root.featureFlags.additionalRepositories"
)
  small.small Branch
  select.select
    option(
      disabled
    ) Choose a branch

//- this element should appear in:
    * the setup popover for adding a repo to Container Files
    * the edit modal (in the Containers view) for modifying an additional repo on a specific Container
//- label.toggle-wrapper(
//-   ng-if = "$root.featureFlags.additionalRepositories"
//- )
//-   small.small Update to latest commit on new builds
//-   input.toggle-input(
//-     type = "checkbox"
//-   )
//-   .toggle-group.toggle-xs

ul.list.list-servers.list-commits(
  ng-if = "!repoSelector.data.latestCommit && !fetchingBranches && $root.featureFlags.additionalRepositories"
)
  li.list-item.active Always use latest commit
    .small.text-overflow Will update on new builds of
      strong.strong &#32;repository-name
    svg.iconnables.icons-fat-check
      use(
        xlink:href = "#icons-fat-check"
      )
  li.list-item fix classes
    .small.text-overflow
      a.small.link.link-text.monospace(
        ng-click = "$event.stopPropagation()"
        ng-href = "{{ commit.attrs.html_url }}"
        target = "_blank"
      ) 418ffe6
      | —runnabro authored 10 minutes ago
  li.list-item Found out that containerfiles weren't being updated
      .small.text-overflow
        a.small.link.monospace(
          ng-click = "$event.stopPropagation()"
          ng-href = "{{ commit.attrs.html_url }}"
          target = "_blank"
        ) 418ffe6
        | —runnabro authored 10 minutes ago
  li.list-item add special gray for contrast
      .small.text-overflow
        a.small.link.monospace(
          ng-click = "$event.stopPropagation()"
          ng-href = "{{ commit.attrs.html_url }}"
          target = "_blank"
        ) 418ffe6
        | —runnabro authored 10 minutes ago

//- end dummy content
//- ************************

//- ************************
//- real content
//- this currently works for adding repositories in Container Files and the Dockerfile tool.
//- it needs to also work for the repositories modals in the Containers view.

label.label-jump(
  ng-if = "!fetchingBranches && repoSelector.data.branch.commits.models.length"
)
  small.small Branch
  select.select(
    ng-change = "repoSelector.actions.selectBranch(repoSelector.data.branch)"
    ng-model = "repoSelector.data.branch"
    ng-options = "branch as branch.attrs.name for branch in repoSelector.data.repo.branches.models"
  )
    option(
      disabled
    ) Choose a branch

.spinner-wrapper.spinner-backdrop.spinner-gray.spinner-md.in(
  ng-if = "(repoSelector.data.branch && !repoSelector.data.branch.commits.models.length) || fetchingBranches"
  ng-include = "'spinner'"
)

ul.list.list-servers.list-commits(
  ng-if = "!repoSelector.data.latestCommit && !fetchingBranches"
)
  li.list-item(
    ng-class = "{active: repoSelector.data.commit === commit, disabled: state.saving}"
    ng-click = "repoSelector.actions.selectCommit(commit)"
    ng-repeat = "commit in repoSelector.data.branch.commits.models | orderBy: '-attrs.commit.committer.date'"
  ) {{commit.attrs.commit.message}}
    .toggle-group-detail
      small.small.text-overflow {{commit.attrs.author.login}} authored {{commit.attrs.commit.committer.date | timeFrom}}
      a.small.link.link-text.monospace(
        ng-click = "$event.stopPropagation()"
        ng-href = "{{ commit.attrs.html_url }}"
        target = "_blank"
      ) {{ ::commit.attrs.sha | limitTo:7 }}
