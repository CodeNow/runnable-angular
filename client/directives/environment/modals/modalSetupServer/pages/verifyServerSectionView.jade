header.modal-header
  h1.modal-heading {{ state.repo.attrs.name }}
  svg.iconnables.icons-close(
    ng-click = "defaultActions.cancel()"
  )
    use(
      xlink:href = "#icons-close"
    )
  .row.modal-tabs.clearfix.js-animate(
        ng-class = "{\
          'active': selectedTab === 'repository',\
          'tabs-1': state.step === 1 && !state.stepsCompleted,\
          'tabs-2': state.step === 1 && state.stepsCompleted,\
          'tabs-2': state.step === 2,\
          'tabs-7': state.step === 3,\
          'tabs-all': state.step === 4\
        }"
        style = "{{state.step === 3 ? 'transition-duration: .3s' : ''}}"
      )
        button.btn.btn-radio(
          ng-class = "{'active': state.step === 1}"
          ng-click = "\
            changeTab('repository');\
            state.step = 1;\
            state.stepsCompleted = 1;\
          "
          ng-if = "state.step >= 1 || isTabVisible('repository')"
          ng-attr-type = "{{state.step === 2 ? 'button' : 'submit'}}"
        )
          //- ng-click = "changeTab('repository')"
          svg.iconnables
            use(
              xlink:href = "#icons-repository"
            )
          .btn-text Repository
        button.btn.btn-radio.js-animate(
          ng-class = "{'active': state.step === 2 || selectedTab === 'commands'}"
          ng-click = "changeTab('commands')"
          ng-if = "state.step >= 2 || isTabVisible('commands') || state.stepsCompleted === 1"
        )
          svg.iconnables
            use(
              xlink:href = "#icons-start-cmd"
            )
          .btn-text Commands
            br
            | & Packages

section.modal-body
  .modal-form(
    ng-form = "verifyServerForm"
  )
    .label(
      data = "data"
      ng-if = "!$root.featureFlags.newVerificationFlow || state.step === 1"
      stack-selector-form
      state = "state"
      loading-promises-target = "setupServerModal"
    )
    .label(
      repository-form
      ng-if = "!$root.featureFlags.newVerificationFlow || state.step === 2"
      start-command-can-disable = "true"
      state = "state"
      loading-promises-target = "setupServerModal"
    )

footer.modal-footer.clearfix
  //- disabled if there is no value in the command input
  button.btn.green(
    ng-disabled = "verifyServerForm.$invalid || (state.selectedStack | selectedStackInvalid)"
    ng-click = "createServer(state)"
    ng-if="!$root.featureFlags.newVerificationFlow || ($root.featureFlags.newVerificationFlow && state.step >= 2)"
  ) Create Container
  button.btn.green(
    ng-disabled = "verifyServerForm.$invalid || (state.selectedStack | selectedStackInvalid)"
    ng-if="$root.featureFlags.newVerificationFlow && state.step < 2"
    ng-click = "goToNextStep()"
  ) Next
  button.btn.white.btn-cancel(
    ng-click = "defaultActions.cancel()"
    type = "button"
  ) Cancel
