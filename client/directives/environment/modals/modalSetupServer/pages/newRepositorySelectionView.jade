//-
//- start $root.featureFlags.dockerfileMirroring
//-

.spinner-wrapper.spinner-md.in(
  ng-if = "NCMC.state.loadingRepos"
  ng-include = "'spinner'"
)

//- hide this when loading
.grid-block.justify-justified.list-header.row-xxs(
  ng-if = "$root.featureFlags.dockerfileMirroring && !NCMC.state.loadingRepos && NCMC.state.addRepoTab"
)
  small.small {{NCMC.state.addRepoTab ? 'By last updated' : ''}}

  //- search
    - disable while loading
  input.input.input-xs.input-search(
    autofocus
    ng-model = "NCMC.repoFilter"
    ng-disabled = ""
    placeholder = "Search"
    required
    type = "search"
  )

//- show this if there are no repositories to add
//- .grid-block.well.gray.justify-center
  //- empty NCMC.state
  .p.empty
    .h3.strong Uh oh!
    | We couldn’t find any repositories for this organization.
    br
    | If you think you think this is a mistake,&#32;
    a.link(
    ) let us know
    | .

//- list of repositories (mock up, we already have a template for this)
ul.list.list-servers(
  ng-if = "$root.featureFlags.dockerfileMirroring && !NCMC.state.loadingRepos && NCMC.state.addRepoTab"
)
  li.p.empty(
    ng-if = "NCMC.githubRepos.models && !noResults.length"
  ) We couldn’t find any repositories named
    br
    | ‘{{NCMC.repoFilter}}’.

  //- add active class when loading
  li.list-item.multi-line.text-overflow(
    ng-repeat = "\
      repo in NCMC.githubRepos.models | \
      repos: NCMC.repoFilter | \
      orderBy: '-attrs.updated_at' as noResults\
    "
    ng-if="$index < 10"
  ) {{ repo.attrs.name }}
    .row.row-author(
      ng-if = "$root.featureFlags.inviteFlows"
    )
      //- if invite flows...
      .btn-user.text-overflow(
        ng-class = "{'active': NCMC.state.active}"
        ng-include = "'userButtonView'"
        pop-over
        pop-over-active = "NCMC.state.active"
        pop-over-options = "{\"left\":-24,\"top\":26}"
        pop-over-template = "userPopoverView"
      )
      span.small(
        ng-if = "$root.featureFlags.inviteFlows"
      ) {{repo.attrs.updated_at | timeFrom}}
    small.small(
      ng-if = "!$root.featureFlags.inviteFlows"
    ) {{repo.attrs.updated_at | timeFrom}}
    button.btn.btn-sm.btn-icon
      svg.iconnables.icons-add
        use(
          xlink:href = "#icons-add"
        )

  //- add active class when loading
  //- li.list-item.multi-line.text-overflow(
  //- ) runnable-angular
    //- .row.row-author(
      //- ng-if = "$root.featureFlags.inviteFlows"
    //- )
      //- //- if invite flows...
      //- .btn-user.text-overflow(
        //- ng-class = "{'active': NCMC.state.active}"
        //- ng-include = "'userButtonView'"
        //- pop-over
        //- pop-over-active = "NCMC.state.active"
        //- pop-over-options = "{\"left\":-24,\"top\":26}"
        //- pop-over-template = "userPopoverView"
      //- )
      //- span.small(
        //- ng-if = "$root.featureFlags.inviteFlows"
      //- ) —{{repo.attrs.updated_at | timeFrom}}

    //- //- else
    //- small.small(
      //- ng-if = "!$root.featureFlags.inviteFlows"
    //- ) 10 days ago
      //- svg.iconnables.icons-server(
        //- pop-over
        //- pop-over-hover-trigger
        //- pop-over-options = "{\"top\":27,\"centered\":true}"
        //- pop-over-template = "viewCountainerTooltip"
        //- pop-over-trigger = "hover"
      //- )
        //- use(
          //- xlink:href = "#icons-server"
        //- )

    //- //- hide button when loading this repository
    //- button.btn.btn-sm.btn-icon
      //- svg.iconnables.icons-add
        //- use(
          //- xlink:href = "#icons-add"
        //- )

  //- show when loading this repository
  //- .spinner-wrapper.spinner-sm.spinner-green.in(
    //- ng-include = "'spinner'"
  //- )
//-
//- end $root.featureFlags.dockerfileMirroring
//-
