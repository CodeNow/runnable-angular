//-
//- start !$root.featureFlags.dockerfileImport
//-
header.modal-header(
  ng-if = "!$root.featureFlags.dockerfileImport"
)
  h1.modal-heading New Container from Repository
  svg.iconnables.icons-close(
    ng-click = "SMC.actions.close()"
  )
    use(
      xlink:href = "#icons-close"
    )

section.modal-body.clearfix(
  ng-if = "!$root.featureFlags.dockerfileImport"
)
  .spinner-wrapper.spinner-md.in(
    ng-if = "!SMC.data.githubRepos.models"
    ng-include = "'spinner'"
  )

  //- search
  input.input.input-xs.input-search(
    ng-disabled = "SMC.repoSelected"
    ng-if = "SMC.data.githubRepos.models && SMC.data.githubRepos.models.length"
    ng-model = "SMC.data.repoFilter"
    placeholder = "Filter by name"
    required
    select-on = "showFilter"
    type = "search"
  )

  //- empty state
  p.p.empty(
    ng-if = "SMC.data.githubRepos.models && !SMC.data.githubRepos.models.length"
  ) You don’t have any repositories. Choose another organization to use Runnable, or create one at&#32;
    a.link(
      href = "https://github.com/"
      target = "_blank"
    ) Github
    | .

  //- list of repositories
  ul.list.list-servers(
    ng-if = "SMC.data.githubRepos.models && SMC.data.githubRepos.models.length"
  )
    li.p.empty(
      ng-if = "!noResults.length"
    ) We couldn’t find any repositories named
      br
      | ‘{{SMC.data.repoFilter}}’.
    li.list-item.multi-line.text-overflow(
      ng-class = "{\
        'active': repo.loading,\
        'disabled': repo.isAdded || SMC.repoSelected\
      }"
      ng-click = "SMC.selectRepo(repo)"
      ng-repeat = "\
        repo in SMC.data.githubRepos.models | \
        repos: SMC.data.repoFilter | \
        orderBy: '-attrs.updated_at' as noResults\
      "
    ) {{repo.attrs.name}}
      .row.row-author(
        ng-if = "$root.featureFlags.inviteFlows"
      )
        //- if invite flows...
        .btn-user.text-overflow(
          ng-class = "{'active': state.active}"
          ng-include = "'userButtonView'"
          pop-over
          pop-over-active = "state.active"
          pop-over-options = "{\"left\":-24,\"top\":26}"
          pop-over-template = "userPopoverView"
        )
        span.small(
          ng-if = "$root.featureFlags.inviteFlows"
        ) —{{repo.attrs.updated_at | timeFrom}}

      //- else
      small.small(
        ng-if = "!$root.featureFlags.inviteFlows"
      ) Updated {{repo.attrs.updated_at | timeFrom}}

      button.btn.btn-xs(
        ng-class = "{\
          'disabled gray': repo.isAdded,\
          'green': !repo.isAdded\
        }"
        ng-disabled = "SMC.repoSelected"
        ng-if = "!repo.loading"
      ) {{repo.isAdded ? 'Already Added' : 'Add Container'}}
      .spinner-wrapper.spinner-sm.spinner-green.in(
        ng-if = "repo.loading"
        ng-include = "'spinner'"
      )

//- if there are no repositories to add
footer.modal-footer.clearfix(
  ng-if = "SMC.data.githubRepos.models && !SMC.data.githubRepos.models.length && !$root.featureFlags.dockerfileImport"
)
  button.btn.btn-md.white.btn-block(
    ng-click = "SMC.actions.close()"
  ) Close
//-
//- end !$root.featureFlags.dockerfileImport
//-

//-
//- start $root.featureFlags.dockerfileImport
//-

//- .spinner-wrapper.spinner-md.in(
//-   ng-include = "'spinner'"
//- )

//- hide this when loading
.grid-block.justify-justified.list-header.row-xxs(
  ng-if = "$root.featureFlags.dockerfileImport"
)
  small.small {{state.addRepoTab ? 'By last updated' : ''}}

  //- search
    - disable while loading
  input.input.input-xs.input-search(
    autofocus
    ng-disabled = ""
    placeholder = "Search"
    required
    type = "search"
  )

//- show this if there are no repositories to add
//- .grid-block.well.gray.justify-center
  //- empty state
  .p.empty
    .h3.strong Uh oh!
    | We couldn’t find any repositories for this organization.
    br
    | If you think you think this is a mistake,&#32;
    a.link(
    ) let us know
    | .

//- list of repositories (mock up, we already have a template for this)
ul.list.list-servers(
  ng-if = "state.addRepoTab && $root.featureFlags.dockerfileImport"
)
  //- li.p.empty(
  //-   ng-if = "!noResults.length"
  //- ) We couldn’t find any repositories named
  //-   br
  //-   | ‘{{SMC.data.repoFilter}}’.

  //- add active class when loading
  li.list-item.multi-line.text-overflow runnable-api
    .row.row-author(
      ng-if = "$root.featureFlags.inviteFlows"
    )
      //- if invite flows...
      .btn-user.text-overflow(
        ng-class = "{'active': state.active}"
        ng-include = "'userButtonView'"
        pop-over
        pop-over-active = "state.active"
        pop-over-options = "{\"left\":-24,\"top\":26}"
        pop-over-template = "userPopoverView"
      )
      span.small(
        ng-if = "$root.featureFlags.inviteFlows"
      ) —{{repo.attrs.updated_at | timeFrom}}
    small.small(
      ng-if = "!$root.featureFlags.inviteFlows"
    ) 9 minutes ago
    button.btn.btn-sm.btn-icon
      svg.iconnables.icons-add
        use(
          xlink:href = "#icons-add"
        )

  //- add active class when loading
  li.list-item.multi-line.text-overflow(
    ng-click = "goToPanel('dockerfileImport')"
  ) runnable-angular
    .row.row-author(
      ng-if = "$root.featureFlags.inviteFlows"
    )
      //- if invite flows...
      .btn-user.text-overflow(
        ng-class = "{'active': state.active}"
        ng-include = "'userButtonView'"
        pop-over
        pop-over-active = "state.active"
        pop-over-options = "{\"left\":-24,\"top\":26}"
        pop-over-template = "userPopoverView"
      )
      span.small(
        ng-if = "$root.featureFlags.inviteFlows"
      ) —{{repo.attrs.updated_at | timeFrom}}

    //- else
    small.small(
      ng-if = "!$root.featureFlags.inviteFlows"
    ) 10 days ago
      svg.iconnables.icons-server(
        pop-over
        pop-over-hover-trigger
        pop-over-options = "{\"top\":27,\"centered\":true}"
        pop-over-template = "viewCountainerTooltip"
        pop-over-trigger = "hover"
      )
        use(
          xlink:href = "#icons-server"
        )

    //- hide button when loading this repository
    button.btn.btn-sm.btn-icon
      svg.iconnables.icons-add
        use(
          xlink:href = "#icons-add"
        )

    //- show when loading this repository
    //- .spinner-wrapper.spinner-sm.spinner-green.in(
    //-   ng-include = "'spinner'"
    //- )
//-
//- end $root.featureFlags.dockerfileImport
//-