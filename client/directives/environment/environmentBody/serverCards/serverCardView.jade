.card-header
  server-status-card-header(
    ng-attr-no-touching = "{{ showSpinner() }}"
    pop-over-options = "{\"right\":10,\"top\":30}"
    pop-over-template = "serverOptionsCardPopover"
  )
  
  //- This element displays the card failed to build or run for 5 seconds.
  //- If it failed to build:
  //- Text says "Build Failed", and "View Logs" links to build logs
  //- If it failed to run:
  //- Text says "Container CMD Failed", and "View Logs" links to CMD logs
  .card-status.failed
    svg.iconnables
      use(
        xlink:href = "#icons-warn"
      )
    | Build Failed. 
    a.a View Logs

  //- This element displays while the card is validating.
  //- While building, it says "Validating Build…"
  //- If it builds successfully, it changes to "Validating Container CMD"
  //- If it runs for 5 seconds, then it changes to "Template Validated"
  //- .card-status Validating Build…

ul.card-body.card-loading(
  ng-if = "showSpinner()"
)
  .spinner-wrapper.spinner-md.spinner-gray.in(
    ng-include = "'spinner'"
  )
ul.card-body.load(
  ng-if = "!showSpinner()"
)
  li.btn.white(
    modal
    modal-actions = "actions"
    modal-current-model = "server"
    modal-data = "data"
    modal-state-model = "'buildfiles'"
    modal-template = "editServerModalOpen"
    ng-if = "server.advanced"
  )
    svg.iconnables
      use(
      xlink:href = "#icons-advanced"
      )
    h3.h3 Advanced Configuration
    p.p.text-overflow
    svg.iconnables.icons-arrow-down
      use(
      xlink:href = "#icons-arrow-down"
      )
  li.btn.white(
    modal
    modal-actions = "actions"
    modal-current-model = "server"
    modal-data = "data"
    modal-state-model = "'stack'"
    modal-template = "editServerModalOpen"
    ng-if = "server.repo && !server.advanced"
    ng-class = "{hint: helpCards.cardIsActiveOnThisContainer(instance) && helpCards.getActiveCard().targets.stackType}"
  )
    svg.iconnables
      use(
        xlink:href = "#icons-stack"
      )
    h3.h3 Stack Type
    p.p.text-overflow {{ getFlattenedSelectedStacks(server.selectedStack) }}
    svg.iconnables.icons-arrow-down
      use(
        xlink:href = "#icons-arrow-down"
      )
  li.btn.white(
    modal
    modal-actions = "actions"
    modal-current-model = "server"
    modal-data = "data"
    modal-state-model = "'repository'"
    modal-template = "editServerModalOpen"
    ng-if = "server.repo && !server.advanced"
    ng-class = "{hint: helpCards.cardIsActiveOnThisContainer(instance) && helpCards.getActiveCard().targets.repositories}"
  )
    svg.iconnables
      use(
        xlink:href = "#icons-git-repository"
      )
    h3.h3 Repository
    //- \\n for new line
    p.p.text-overflow(
      title = "{{ server.instance.contextVersion.appCodeVersions.models[0].attrs.branch }}\\nnpm start\\nbuild commands"
    ) {{ server.instance.contextVersion.appCodeVersions.models[0].attrs.branch }}
    svg.iconnables.icons-arrow-down
      use(
        xlink:href = "#icons-arrow-down"
      )
  li.btn.white(
    ng-if = "server.repo && !server.advanced"
    modal
    modal-actions = "actions"
    modal-current-model = "server"
    modal-data = "data"
    modal-state-model = "'ports'"
    modal-template = "editServerModalOpen"
    ng-class = "{hint: helpCards.cardIsActiveOnThisContainer(instance) && helpCards.getActiveCard().targets.exposedPorts}"
  )
    svg.iconnables
      use(
        xlink:href = "#icons-ports"
      )
    h3.h3 Exposed Ports
    p.p.text-overflow {{ server.ports || 'None'}}
    svg.iconnables.icons-arrow-down
      use(
        xlink:href = "#icons-arrow-down"
      )
  //- will use in the second half of build commands
  //- li.btn.white(
  //-   modal
  //-   modal-actions = "actions"
  //-   modal-current-model = "server"
  //-   modal-data = "data"
  //-   modal-state-model = "'files'"
  //-   modal-template = "editServerModalOpen"
  //-   ng-if = "server.repo && !server.advanced"
  //- )
    svg.iconnables
      use(
        xlink:href = "#icons-git-repository"
      )
    h3.h3 Additional Files
    p.p.text-overflow {{ server.instance.contextVersion.appCodeVersions.models[0].attrs.branch }}
    svg.iconnables.icons-arrow-down
      use(
        xlink:href = "#icons-arrow-down"
      )
  li.btn.white(
    modal
    modal-actions = "actions"
    modal-current-model = "server"
    modal-data = "data"
    modal-state-model = "'env'"
    modal-template = "editServerModalOpen"
    modal-open-flag = "openConfigurationModal"
    ng-class = "{hint: helpCards.cardIsActiveOnThisContainer(instance) && helpCards.getActiveCard().targets.environmentVariables}"
  )
    svg.iconnables
      use(
        xlink:href = "#icons-environment-variable"
      )
    h3.h3 Environment Variables
    p.p.text-overflow {{ dependencyInfo }}
    svg.iconnables.icons-arrow-down
      use(
        xlink:href = "#icons-arrow-down"
      )

.card-footer
  input.input-toggle(
    id = "{{ (server.instance.getRepoName() || server.instance.attrs.name) }}"
    ng-click = "changeAdvancedFlag()"
    ng-model = "state.advanced"
    type = "checkbox"
  )
  label.label-toggle(
    for = "{{ (server.instance.getRepoName() || server.instance.attrs.name) }}"
    tooltip = "Enable direct access to your container files."
    tooltip-options = "{\"class\":\"bottom tooltip-definition\",\"left\":-3,\"top\":15}"
  )
    span.label-text Advanced Mode
  .containers-count 15 Branch Containers