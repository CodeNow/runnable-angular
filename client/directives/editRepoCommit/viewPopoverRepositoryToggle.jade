//- .popover-repository-toggle
.popover.right.popover-repository-toggle.in(
  ng-class = "{in: data.show}"
)
  .arrow.white
  h3.popover-title
    .btn-group
      button.btn.btn-sm.white
        svg.iconnables.icons-branch
          use(
            xlink:href = "#icons-branch"
          )
        | Branches
      button.btn.btn-sm.white
        svg.iconnables.icons-commit
          use(
            xlink:href = "#icons-commit"
          )
        | Commits
    input.title-filter(
      select-on = "data.toggleFilter"
      ng-model = "data.commitFilter"
      placeholder = "Filter Branches"
    )

  ul.commit-group
    li.commit-group-item.small Selecting a commit will #{''}
        b lock
        | #{''} your server to that commit, and your server will not automatically update to run your latest code.
    li.commit-group-item
      .commit-message Change font-weight from bold to 400
      .commit-detail.clearfix
        small.small runnabro—22 days
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) ea2855c
    li.commit-group-item
      .commit-message oops, left a console.log
      .commit-detail.clearfix
        small.small Nathan219—Oct 3
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) 59b170a
    li.commit-group-item
      .commit-message Merge remote-tracking branch 'origin/master'
      .commit-detail.clearfix
        small.small Nathan219—Oct 3
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) f2b2fa0
    li.commit-group-item
      .commit-message Adding awesome new feature to disallow auto-scrolling when the cursor…
      .commit-detail.clearfix
        small.small Nathan219—Oct 3
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) cb33a72
    li.commit-group-item
      .commit-message 0.1.4
      .commit-detail.clearfix
        small.small SomeKittens—Oct 3
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) 0991239
    li.commit-group-item
      .commit-message less agressive commenting
      .commit-detail.clearfix
        small.small SomeKittens—Oct 3
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) eb70c33
    li.commit-group-item
      .commit-message 0.1.3
      .commit-detail.clearfix
        small.small SomeKittens—Oct 3
        a.small.link-text(
          href = "#"
          target = "_blank"
        ) 2e2a338

    //- button.btn.btn-icon.btn-search(
    //-   ng-click = "data.toggleFilter = !data.toggleFilter; \
    //-     data.commitFilter = '';"
    //-   ng-class = "{active: data.toggleFilter}"
    //- )
      svg.iconnables.icons-search
        use(
          xlink:href = "#icons-search"
        )
    //- focus on visible

    //- branch selector
    //- .btn-select.branch-btn
      button.btn.blue.pull-right
        //- change this to a branch icon
        svg.iconnables.icons-git
          use(
            xlink:href = "#icons-git"
          )
        | {{ data.activeBranch.attrs.name }}
        svg.iconnables.icons-arrow-down
          use(
            xlink:href = "#icons-arrow-down"
          )
      select.select(
        name = "data.activeBranch"
        ng-change = "actions.selectBranch(data.activeBranch)"
        ng-model = "data.activeBranch"
        ng-options = "branch.attrs.name for branch in data.acv.githubRepo.branches.models"
      )

  //- list of commits
  //- ul.commit-group(
  //-   ng-if = "data.activeBranch.commits.models.length"
  //- )
    //- show 35 commits per load
    //- .active class if currently selected commit
    li.commit-group-item.commit(
      ng-repeat = "commit in data.activeBranch.commits.models | commitFilter:data.commitFilter"
      ng-class = "{ \
        active: (commit.attrs.sha === data.activeCommit.attrs.sha) \
      }"
      ng-click = "actions.selectCommit(commit.attrs.sha)"
    )
      .commit-message {{ commit.attrs.commit.message }}
      .commit-message {{ commit.attrs.sha }}
      svg.iconnables.icons-commit
        use(
          xlink:href = "#icons-commit"
        )
      span.commit-author {{ commit.attrs.author.login }}
      time.commit-time {{ commit.attrs.commit.author.date | timeAgo }}

    //- li.commit-group-item.commit-item-more(
    //-   ng-if = "data.state.commits.length && !data.state.allCommitsLoaded"
    //- )
    //-   button.btn.blue.btn-block Load Older
    //- li.commit-group-item(
    //-   ng-if = "!data.state.commits.length"
    //- )
      .spinner
        .spinner-ring
