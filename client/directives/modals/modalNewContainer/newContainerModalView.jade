.modal-backdrop.in
  animated-panel-container.modal-dialog.modal-lg
    animated-panel.grid-block.vertical.modal-server-select(
      default = "true"
      name = "containerSelection"
    )
      header.modal-header.grid-block.justify-center.row-xxs
        .grid-block.shrink.btn(
          ng-class = "{'active': MC.state.tabName === 'repos'}"
          ng-click = "MC.changeTab('repos')"
        )
          svg.iconnables.icons-repository.grid-block.shrink
            use(
              xlink:href = "#icons-new-repository-server"
            )
          .btn-text.grid-block Create from a repository
        //- disable this button when loading a repository
        .grid-block.shrink.btn(
          ng-disabled = "$root.isLoading[MC.name + 'SingleRepo']"
          ng-class = "{\
            'active': MC.state.tabName === 'services', \
            'btn-hint': MC.servicesActive, \
            'disabled': $root.isLoading[MC.name + 'SingleRepo'] \
          }"
          ng-click = "!$root.isLoading[MC.name + 'SingleRepo'] && MC.changeTab('services')"
        )
          svg.iconnables.icons-template.grid-block.shrink
            use(
              xlink:href = "#icons-server-new"
            )
          .btn-text.grid-block.vertical.text-left Create from a template
            small.small For services and databases
        svg.iconnables.icons-close(
          ng-click = "MC.close()"
        )
          use(
            xlink:href = "#icons-close"
          )

      .modal-body(
        ng-if = "MC.state.tabName === 'repos'"
        ng-include = "'newRepositorySelectionView'"
      )

      .modal-body(
        ng-if = "MC.state.tabName === 'services'"
        ng-include = "'templateSelectSectionView'"
      )

    animated-panel.grid-block.vertical.modal-mirror-dockerfile(
      name = "dockerfileMirroring"
    )
      header.modal-header
        svg.iconnables.icons-arrow-backward(
          ng-click = "!$root.isLoading[MC.name + 'SingleRepo'] && goToPanel('containerSelection', 'back')"
        )
          use(
            xlink:href = "#icons-arrow-down"
          )
        h1.modal-heading Choose Configuration
        svg.iconnables.icons-close(
          ng-click = "MC.close()"
        )
          use(
            xlink:href = "#icons-close"
          )

      .grid-block.vertical.modal-body(
        ng-include = "'mirrorDockerfileView'"
      )

      .modal-footer.clearfix
        button.btn.btn-md.white.float-left(
          ng-click = "MC.close()"
        ) Cancel
        //- add the 'in' class to .btn-spinner when spinning!
        button.btn.btn-md.green.float-right.btn-spinner(
          ng-disabled = "$root.isLoading[MC.name + 'SingleRepo'] || MC.state.dockerfile === null"
          ng-click = "MC.createBuildAndGoToNewRepoModal(MC.state.repo, MC.state.dockerfile)"
          ng-class = "{ \
            in: $root.isLoading[MC.name + 'SingleRepo'] \
          }"
        )
          .spinner-wrapper.spinner-white.spinner-sm.in(
            ng-include = "'spinner'"
            ng-if = "$root.isLoading[MC.name + 'SingleRepo']"
          )
          | Next Step{{MC.state.dockerfile === false ? ': Configure' : ': Review'}}

