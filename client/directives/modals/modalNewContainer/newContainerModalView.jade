.modal-backdrop.in
  .modal-dialog.modal-lg.modal-server-select
    header.modal-header.grid-block.align-center(
      ng-init = "state.addRepoTab = true"
    )
      button.grid-block.shrink.btn(
        ng-class = "{'active': state.addRepoTab}"
        ng-click = "state.addRepoTab = true"
      )
        svg.iconnables.icons-repository.grid-block.shrink
          use(
            xlink:href = "#icons-new-repository-server"
          )
        .btn-text.grid-block Create from a repository
      button.grid-block.shrink.btn(
        ng-class = "{'active': !state.addRepoTab}"
        ng-click = "state.addRepoTab = false"
      )
        svg.iconnables.icons-template.grid-block.shrink
          use(
            xlink:href = "#icons-server-new"
          )
        .btn-text.grid-block.vertical.text-left Create from a template
          small.small For services and databases
      svg.iconnables.icons-close(
        ng-click = "NCMC.close()"
      )
        use(
          xlink:href = "#icons-close"
        )

    .modal-body
      //- .spinner-wrapper.spinner-md.in(
      //-   ng-include = "'spinner'"
      //- )

      //- hide this when loading
      .grid-block.align-justify.list-header
        small.small {{state.addRepoTab ? 'By last updated' : ''}}

        //- search
          - disable while loading
        input.input.input-xs.input-search(
          autofocus
          ng-disabled = ""
          placeholder = "Search"
          required
          type = "search"
        )

      //- show this if there are no repositories to add
      //- .grid-block.well.gray.align-center
        //- empty state
        .p.empty
          .h3.strong Uh oh!
          | We couldn’t find any repositories for this organization.
          br
          | If you think you think this is a mistake,&#32;
          a.link(
          ) let us know
          | .


      //- list of repositories (mock up, we already have a template for this)
      ul.list.list-servers(
        ng-if = "state.addRepoTab"
      )
        //- li.p.empty(
        //-   ng-if = "!noResults.length"
        //- ) We couldn’t find any repositories named
        //-   br
        //-   | ‘{{SMC.data.repoFilter}}’.
        li.list-item.multi-line.text-overflow runnable-api
          .row.row-author(
            ng-if = "$root.featureFlags.inviteFlows"
          )
            //- if invite flows...
            .btn-user.text-overflow(
              ng-class = "{'active': state.active}"
              ng-include = "'userButtonView'"
              pop-over
              pop-over-active = "state.active"
              pop-over-options = "{\"left\":-24,\"top\":26}"
              pop-over-template = "userPopoverView"
            )
            span.small(
              ng-if = "$root.featureFlags.inviteFlows"
            ) —{{repo.attrs.updated_at | timeFrom}}
          small.small(
            ng-if = "!$root.featureFlags.inviteFlows"
          ) 9 minutes ago
          button.btn.btn-sm.btn-icon
            svg.iconnables.icons-add
              use(
                xlink:href = "#icons-add"
              )

        li.list-item.multi-line.text-overflow runnable-angular
          .row.row-author(
            ng-if = "$root.featureFlags.inviteFlows"
          )
            //- if invite flows...
            .btn-user.text-overflow(
              ng-class = "{'active': state.active}"
              ng-include = "'userButtonView'"
              pop-over
              pop-over-active = "state.active"
              pop-over-options = "{\"left\":-24,\"top\":26}"
              pop-over-template = "userPopoverView"
            )
            span.small(
              ng-if = "$root.featureFlags.inviteFlows"
            ) —{{repo.attrs.updated_at | timeFrom}}
              svg.iconnables.icons-dockerfile(
                pop-over
                pop-over-hover-trigger
                pop-over-options = "{\"top\":27,\"centered\":true}"
                pop-over-template = "viewDockerfileTooltip"
                pop-over-trigger = "hover"
              )
                use(
                  xlink:href= "#icons-dockerfile"
                )

          //- else
          small.small(
            ng-if = "!$root.featureFlags.inviteFlows"
          ) 10 days ago
            svg.iconnables.icons-dockerfile(
              pop-over
              pop-over-hover-trigger
              pop-over-options = "{\"top\":27,\"centered\":true}"
              pop-over-template = "viewDockerfileTooltip"
              pop-over-trigger = "hover"
            )
              use(
                xlink:href= "#icons-dockerfile"
              )
            svg.iconnables.icons-server(
              pop-over
              pop-over-hover-trigger
              pop-over-options = "{\"top\":27,\"centered\":true}"
              pop-over-template = "viewCountainerTooltip"
              pop-over-trigger = "hover"
            )
              use(
                xlink:href = "#icons-server"
              )

          //- hide button when loading this repository
          button.btn.btn-sm.btn-icon
            svg.iconnables.icons-add
              use(
                xlink:href = "#icons-add"
              )

          //- show when loading this repository
          //- .spinner-wrapper.spinner-sm.spinner-green.in(
          //-   ng-include = "'spinner'"
          //- )

      //- list of templates (mock up, we already have a template for this)
      ul.list.list-servers(
        ng-if = "!state.addRepoTab"
      )
        //- ng-class = "{'btn-hint': dependency.attrs.lowerName === STMC.helpCard.data.dependency}"
        li.list-item.grid-block(
        )
          img.img(
            height = "36"
            ng-src = "/build/images/logos/logo-icon-cassandra.png"
            width = "36"
          )
          | Cassandra
          button.btn.btn-sm.btn-icon
            svg.iconnables.icons-add
              use(
                xlink:href = "#icons-add"
              )
        li.list-item.grid-block(
        )
          img.img(
            height = "36"
            ng-src = "/build/images/logos/logo-icon-consul-server.png"
            width = "36"
          )
          | Consul-Server
          button.btn.btn-sm.btn-icon
            svg.iconnables.icons-add
              use(
                xlink:href = "#icons-add"
              )
        li.list-item.grid-block(
        )
          img.img(
            height = "36"
            ng-src = "/build/images/logos/logo-icon-elasticsearch.png"
            width = "36"
          )
          | ElasticSearch
          button.btn.btn-sm.btn-icon
            svg.iconnables.icons-add
              use(
                xlink:href = "#icons-add"
              )