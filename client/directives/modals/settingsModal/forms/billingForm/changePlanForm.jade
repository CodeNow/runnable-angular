//- changing plans
.padding-md(
  ng-init = "modal.configurations = 5"
)

  .clearfix
    .label-col.full-width Configurations Used
  //- .used-n where n is the number of configs
  .meter(
    ng-class = "{\
      'preview-used-2': state.previewStarter,\
      'used-5': modal.configurations === 5,\
      'preview-used-7': state.previewStandard,\
      'preview-used-15': state.previewPlus\
    }"
  )
    .current-plan
    .ticks
      .tick
      .tick(
        ng-class = "{'expand': state.previewStarter}"
      )
      .tick
      .tick
      .tick
      .tick
      .tick(
        ng-class = "{'expand': state.previewStandard}"
      )
      .tick
      .tick
      .tick
      .tick
      .tick
      .tick
      .tick

  .grid-block.align-center
    .grid-block.vertical.align-center.card.card-plan.disabled.padding-sm.text-center(
      ng-class = "{'active': modal.configurations <= 2}"
      ng-mouseenter = "state.previewStarter = true"
      ng-mouseleave = "state.previewStarter = false"
    )
      h3.grid-content.shrink.h3 Starter
      .grid-block.shrink.vertical.price
        .grid-block.justify-center.h1(
          ng-class = "{'red': $root.featureFlags.billingDiscounted}"
        )
          sup.sup $
          | {{$root.featureFlags.billingDiscounted ? '4.50' : '9'}}
        small.grid-block.vertical.small.text-gray per user
          br
          | per month
      .grid-content.shrink.small Up to&#32;
        strong.strong 2
        | &#32; configurations.

    .grid-block.vertical.align-center.card.card-plan.disabled.padding-sm.text-center(
      ng-class = "{'active': modal.configurations >= 3}"
      ng-mouseenter = "state.previewStandard = true"
      ng-mouseleave = "state.previewStandard = false"
    )
      h3.grid-content.shrink.h3 Standard
      .grid-block.shrink.vertical.price
        .grid-block.justify-center.h1(
          ng-class = "{'red': $root.featureFlags.billingDiscounted}"
        )
          sup.sup $
          | {{$root.featureFlags.billingDiscounted ? '14.50' : '29'}}
        small.grid-block.vertical.small.text-gray per user
          br
          | per month
      .grid-content.shrink.small Up to&#32;
        strong.strong 7
        | &#32; configurations.

    .grid-block.vertical.align-center.card.card-plan.disabled.padding-sm.text-center(
      ng-class = "{'active': modal.configurations >= 15}"
      ng-mouseenter = "state.previewPlus = true"
      ng-mouseleave = "state.previewPlus = false"
    )
      h3.grid-content.shrink.h3 Plus
      .grid-block.shrink.vertical.price
        .grid-block.justify-center.h1(
          ng-class = "{'red': $root.featureFlags.billingDiscounted}"
        )
          sup.sup $
          | {{$root.featureFlags.billingDiscounted ? '24.50' : '49'}}
        small.grid-block.vertical.small.text-gray per user
          br
          | per month
      .grid-content.shrink.small Up to&#32;
        strong.strong 15
        | &#32; configurations.

  label.grid-block.align-center.padding-xs.well.well-plan.well-summary.disabled(
    ng-if = "$root.featureFlags.billingDiscounted"
    ng-include = "'discountView'"
    ng-init = "state.hasDuration = true"
  )

  p.grid-content.p.text-gray.text-center.padding-sm(
    ng-include = "'paymentSummaryView'"
    ng-init = "\
      state.hasPaid = false;\
      state.showNext = true;\
    "
  )

footer.modal-footer.clearfix

  //- from billing overview buttons:
  //- disable if plan hasn't been changed
  button.btn.btn-md.green.float-right(
    ng-click = "goToPanel('confirmationForm')"
    ng-if = "!$root.featureFlags.trial && $root.featureFlags.billingChangePlan"
    type = "button"
  ) Change Plan

  button.btn.btn-md.gray.btn-cancel.float-left(
    ng-click = "\
      $root.featureFlags.trialFooter = false;\
      goToPanel('billingForm', 'back');\
    "
    ng-if = "!$root.featureFlags.trial"
  ) Cancel

  //- from trial buttons:
  //- disabled if no plan is selected
  button.btn.btn-md.white.float-right(
    ng-click = "goToPanel('changePaymentForm')"
    ng-if = "$root.featureFlags.trial"
    type = "button"
  ) Next: Payment

  button.btn.btn-md.gray.btn-cancel.float-right(
    ng-click = "\
      $root.featureFlags.trialFooter = false;\
      goToPanel('trialForm', 'back');\
      modal.configurations = null;\
    "
    ng-if = "$root.featureFlags.trial && !state.fromTrialEnd"
  ) Back
