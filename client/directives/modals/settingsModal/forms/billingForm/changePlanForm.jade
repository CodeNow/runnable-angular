//- changing plans
.padding-md(
  ng-init = "model.plan = (!$root.featureFlags.trial) ? 'premium' : null"
)
  label.grid-block.align-center.well.well-plan.padding-sm(
    ng-class = "{\
      'active': (model.plan === 'starter'),\
      'disabled not-allowed': !$root.featureFlags.trial && !$root.featureFlags.billingChangePlan,\
      'disabled blackout': !$root.featureFlags.trial && $root.featureFlags.billingChangePlan,\
    }"
  )
    //- add .current class for current plan
    .grid-block.align-center.justify-center.shrink.white üö≤
    .grid-block.vertical
      .grid-block.p.strong 2 Config
        span.hidden-xxs uration
      .grid-block.vertical.p(
        ng-class = "{'discounted': $root.featureFlags.billingDiscounted}"
      )
        .grid-block
          .strong {{$root.featureFlags.billingDiscounted ? '$4.50' : '$9'}}
          span /user/month
        .small(
          ng-if = "$root.featureFlags.billingDiscounted"
        )
          span.strike.text-red $9
          span.text-gray &#32;50% Off
      .grid-content.p.small.text-gray 3 user minimum.
    input.checkbox.hidden(
      name = "plan"
      ng-disabled = "(!$root.featureFlags.trial && !$root.featureFlags.billingChangePlan) || (!$root.featureFlags.trial && $root.featureFlags.billingChangePlan)"
      ng-model = "model.plan"
      value = "starter"
      type = "radio"
    )
    button.grid-block.shrink.btn.btn-xs.btn-icon.btn-add(
      ng-class = "{'active': (model.plan === 'starter')}"
    )
      svg.iconnables.icons-check
        use(
          xlink:href = "#icons-check"
        )

  label.grid-block.align-center.well.well-plan.padding-sm(
    ng-class = "{\
      'active': (model.plan === 'standard'),\
      'disabled not-allowed': !$root.featureFlags.trial && !$root.featureFlags.billingChangePlan\
    }"
  )
    //- add .current class for current plan
    .grid-block.align-center.justify-center.shrink.white üöó
    .grid-block.vertical
      .grid-block.p.strong 7 Config
        span.hidden-xxs uration
      .grid-block.vertical.p(
        ng-class = "{'discounted': $root.featureFlags.billingDiscounted}"
      )
        .grid-block
          .strong {{$root.featureFlags.billingDiscounted ? '$14.50' : '$29'}}
          span /user/month
        .small(
          ng-if = "$root.featureFlags.billingDiscounted"
        )
          span.strike.text-red $29
          span.text-gray &#32;50% Off
      .grid-content.p.small.text-gray 3 user minimum.
    input.checkbox.hidden(
      name = "plan"
      ng-disabled = "!$root.featureFlags.trial && !$root.featureFlags.billingChangePlan"
      ng-model = "model.plan"
      value = "standard"
      type = "radio"
    )
    button.grid-block.shrink.btn.btn-xs.btn-icon.btn-add(
      ng-class = "{'active': (model.plan === 'standard')}"
    )
      svg.iconnables.icons-check
        use(
          xlink:href = "#icons-check"
        )

  label.grid-block.align-center.well.well-plan.padding-sm(
    ng-class = "{'active': model.plan === 'premium'}"
  )
    .grid-block.align-center.justify-center.shrink.white(
      ng-class = "{'current': !$root.featureFlags.trial}"
    ) ‚úàÔ∏è
    .grid-block.vertical
      .grid-block.p.strong 15 Config
        span.hidden-xxs uration
      .grid-block.vertical.p(
        ng-class = "{'discounted': $root.featureFlags.billingDiscounted}"
      )
        .grid-block
          .strong {{$root.featureFlags.billingDiscounted ? '$24.50' : '$49'}}
          span /user/month
        .small(
          ng-if = "$root.featureFlags.billingDiscounted"
        )
          span.strike.text-red $49
          span.text-gray &#32;50% Off
      .grid-content.p.small.text-gray 3 user minimum.
    input.checkbox.hidden(
      name = "plan"
      ng-model = "model.plan"
      value = "premium"
      type = "radio"
    )
    button.grid-block.shrink.btn.btn-xs.btn-icon.btn-add(
      ng-class = "{'active': model.plan === 'premium'}"
    )
      svg.iconnables.icons-check
        use(
          xlink:href = "#icons-check"
        )

  p.grid-content.p.text-gray.text-center.padding-sm(
    ng-if = "!$root.featureFlags.trial && !$root.featureFlags.billingChangePlan"
  ) Please&#32;
    a.link(
      href = "mailto: billing@runnable.com"
    ) contact us
    | &#32;to make changes to your plan.

  p.grid-content.p.text-gray.text-center.padding-sm(
    ng-include = "'paymentSummaryView'"
    ng-init = "\
      state.hasPaid = false;\
      state.showNext = true;\
    "
  )

footer.modal-footer.clearfix

  //- from billing overview buttons:
  //- disable if plan hasn't been changed
  button.btn.btn-md.green.float-right(
    ng-click = "goToPanel('confirmationForm')"
    ng-if = "!$root.featureFlags.trial && $root.featureFlags.billingChangePlan"
    type = "button"
  ) Change Plan

  button.btn.btn-md.gray.btn-cancel.float-left(
    ng-click = "\
      $root.featureFlags.trialFooter = false;\
      goToPanel('billingForm', 'back');\
    "
    ng-if = "!$root.featureFlags.trial"
  ) Cancel

  //- from trial buttons:
  //- disabled if no plan is selected
  button.btn.btn-md.white.float-right(
    ng-click = "goToPanel('changePaymentForm')"
    ng-if = "$root.featureFlags.trial"
    type = "button"
  ) Next: Payment

  button.btn.btn-md.gray.btn-cancel.float-right(
    ng-click = "\
      $root.featureFlags.trialFooter = false;\
      goToPanel('trialForm', 'back');\
      model.plan = null;\
    "
    ng-if = "$root.featureFlags.trial && !state.fromTrialEnd"
  ) Back
