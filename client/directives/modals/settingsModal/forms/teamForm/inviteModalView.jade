.modal-backdrop.in
  .modal-dialog.modal-sheet.modal-invite.in

    .modal-header Invite Teammate
      svg.iconnables.icons-close(
        ng-click = "IMC.close()"
      )
        use(
          xlink:href = "#icons-close"
        )

    .modal-body

      //- list of teammates (from github) that are not on runnable
      ul.list.list-bordered.list-teammates
        li.list-item(
          ng-class = "{'active': IMC.activeUserIndex === $index}"
          ng-repeat = "user in IMC.unInvitedMembers"
        )
          img.gravatar(
            height = "27"
            ng-src = "{{user.avatar_url}}"
            width = "27"
          )
          .username.text-overflow.strong {{user.login}}
          .small.text-overflow {{user.email.length ? user.email : "â€”"}}

          //- cancel invite
          svg.iconnables.icons-close(
            ng-click = "IMC.setActiveItem(null)"
            ng-if = "IMC.activeUserIndex === $index"
          )
            use(
              xlink:href = "#icons-close"
            )

           //- autofocus on this
          input.input.input-sm.input-validate.validate-on-blur.js-animate(
            ng-model = "user.inviteEmail"
            ng-show = "IMC.activeUserIndex === $index"
            placeholder = "Email Address"
            required
            spellcheck = "false"
            type = "email"
          )

          //- disabled when invalid
          button.btn.btn-xs.green.js-animate(
            ng-class = "{'in': IMC.sendingInvitation}"
            ng-click = "IMC.sendInvitation(user, $index)"
            ng-disabled = "!user.inviteEmail"
            ng-show = "IMC.activeUserIndex === $index"
          ) Send

          .btn-wrapper
            //- invite button always prompts for email address
            button.btn.btn-xs.green(
              ng-click = "IMC.setActiveItem($index)"
              ng-if = "IMC.activeUserIndex !== $index && IMC.sendingInviteUserIndex !== $index && !user.inviteSent"
            ) Invite

          //- invite sending
          .spinner-wrapper.spinner-sm.spinner-gray.in(
            ng-if = "IMC.sendingInviteUserIndex === $index && !user.inviteSent"
            ng-include = "'spinner'"
          )

          .send-confirmation.load(
            ng-if = "user.inviteSent"
          )
            svg.iconnables.icons-check.float-left(
              viewbox = '0 0 14.5 10'
            )
              path.path(
                d = 'M1,4.5L5.5,9l8-8'
                fill = 'none',
                stroke = '#3ccb5a',
                stroke-linecap = 'round',
                stroke-linejoin = 'round',
                stroke-miterlimit = '10',
                stroke-width = '2',
              )
            | Sent

