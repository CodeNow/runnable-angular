li(
  file-tree-dir
  ng-repeat = "fs in dir.contents.models \
                     | isDir \
                     | orderBy:actions.normalizeMixedDataValue"
  dir = "fs"
  parent-dir = "dir"
  file-model = "fileModel"
  open = "fs.state.open"
  open-items = "openItems"
  read-only = "readOnly"
)
li.file(
  draggable
  ng-repeat = "fs in dir.contents.models \
               | isFile \
               | orderBy:actions.normalizeMixedDataValue"
  ng-class = "{ \
      'active': fs.state.active, \
      'dirty': (fs.state.body !== fs.attrs.body) \
    }"
)
  a(
    ng-click = "actions.closeOpenModals(); \
                actions.openFile(fs); \
                $event.stopPropagation();"
    popover-file-explorer-item-menu
  )
    svg.iconnables.filetypes.icons-file
      use(xlink:href = "#icons-file")
    input.tree-input(
      name = "{{ fs.id() }}"
      ng-keyup = "($event.keyCode === 13) && fileItemData.actions.closeFileNameInput();"
      ng-readonly = "!fs.state.renaming"
      value = "{{ fs.attrs.name }}"
      select-on = "fs.state.renaming"
    ) {{ fs.attrs.name }}
    span.item-name {{ fs.attrs.name }}
    span.btn-file-errors.orange(
      ng-if = "fs.validation.errors.length"
    ) {{ fs.validation.errors.length }}